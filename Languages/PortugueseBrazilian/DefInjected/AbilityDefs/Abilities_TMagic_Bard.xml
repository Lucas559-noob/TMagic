<?xml version="1.0" encoding="utf-8" ?>

<Defs>

<!-- bard projectile -->
  
  <ThingDef ParentName="BaseBullet" Class="AbilityUser.ProjectileDef_Ability">
   <defName>TM_Projectile_Bard</defName>
   <thingClass>AbilityUser.Projectile_Ability</thingClass>
   <label>projétil de bardo</label>
   <graphicData>
		<texPath>Spells/invis</texPath>
		<graphicClass>Graphic_Single</graphicClass>
   </graphicData>
   <projectile>
		<flyOverhead>true</flyOverhead>
		<damageDef>TM_Heal_I</damageDef>
		<damageAmountBase>0</damageAmountBase>
		<speed>999</speed>
   </projectile>
 </ThingDef>
 
 
<!-- Bard Training -->
 <TorannMagic.TMAbilityDef ParentName="BaseMagicAbility">
    <defName>TM_BardTraining</defName>
    <label>Treinamento de Bardo</label>
    <uiIconPath>UI/bardtraining</uiIconPath>
    <description>Aprimore as habilidades de um bardo passando por treinamento em artes cênicas, comédia, socialização e inspiração. Cada nível mudará a característica do bardo para refletir seu nível de habilidade.

Ranks:
Animador: impacto social + 10%, negociação + 20%, comércio + 10%,
Limite de dor -10%, capacidade de carga -10, velocidade de trabalho -10%

Executor: impacto social + 20%, negociação + 30%, comércio + 15%,
Limite de dor -12%, capacidade de carga -15, velocidade de trabalho -12%

Menestrel: impacto social + 30%, negociação + 35%, comércio + 20%,
Limite de dor -14%, capacidade de carga -18, velocidade de trabalho -14%

Bard: impacto social + 35%, negociação + 40%, comércio + 25%,
Limite de dor -15%, capacidade de carga -20, velocidade de trabalho -15%</description>
    <manaCost>0.0</manaCost>
	<shouldInitialize>false</shouldInitialize>
    <MainVerb Class="AbilityUser.VerbProperties_Ability">
        <verbClass>AbilityUser.Verb_UseAbility</verbClass>
			<tooltipShowProjectileDamage>false</tooltipShowProjectileDamage>
			<tooltipShowExtraDamages>false</tooltipShowExtraDamages>
			<tooltipShowHediffsToApply>false</tooltipShowHediffsToApply>
			<tooltipShowMentalStatesToApply>false</tooltipShowMentalStatesToApply>
        <hasStandardCommand>true</hasStandardCommand>
		<abilityDef>TM_BardTraining</abilityDef>
		<isViolent>false</isViolent>
        <defaultProjectile>TM_Projectile_Bard</defaultProjectile>
        <warmupTime>2.5</warmupTime>
        <SecondsToRecharge>8.0</SecondsToRecharge>
        <range>25</range>
        <soundCast>Message_PositiveEvent</soundCast>
        <muzzleFlashScale>30</muzzleFlashScale>
        <isPrimary>false</isPrimary>
   	    <AbilityTargetCategory>TargetThing</AbilityTargetCategory>
		<targetParams>
		  <canTargetPawns>true</canTargetPawns>
		  <canTargetBuildings>false</canTargetBuildings>
		  <canTargetSelf>true</canTargetSelf>
		  <canTargetLocations>false</canTargetLocations>
		</targetParams>
    </MainVerb>
  </TorannMagic.TMAbilityDef>
  
  <!-- Entertain -->
  <TorannMagic.TMAbilityDef ParentName="BaseMagicAbility">
    <defName>TM_Entertain</defName>
    <label>Entreter</label>
    <uiIconPath>UI/entertain</uiIconPath>
    <description>Divirta outros colonos usando uma variedade de métodos. Essa habilidade tem dois componentes, uma habilidade passiva e uma habilidade ativa. A habilidade passiva permite que o bardo entretenha outros colonos conversando.

Este comando ativa ou desativa a habilidade ativa.

Ativar a habilidade lança uma rede sobre a colônia e permite que o bardo detecte peões problemáticos e tente entretê-los. O bardo ganhará pontos de experiência como mago quando o entretenimento ativo for bem-sucedido. Manter esta habilidade ativa reduz o mana máximo em 30. O bardo realiza entretenimento como um tipo de trabalho e irá realizar entretenimento com base na prioridade do tipo de trabalho "Diretor".</description>
    <manaCost>0</manaCost>
	<abilityHediff>TM_EntertainingHD</abilityHediff>
	<upkeepEnergyCost>.3</upkeepEnergyCost>
	<learnChance>.3</learnChance>
    <MainVerb Class="AbilityUser.VerbProperties_Ability">
        <verbClass>TorannMagic.Verb_Entertain</verbClass>
			<tooltipShowProjectileDamage>false</tooltipShowProjectileDamage>
			<tooltipShowExtraDamages>false</tooltipShowExtraDamages>
			<tooltipShowHediffsToApply>false</tooltipShowHediffsToApply>
			<tooltipShowMentalStatesToApply>false</tooltipShowMentalStatesToApply>
        <hasStandardCommand>true</hasStandardCommand>
		<abilityDef>TM_Entertain</abilityDef>
		<isViolent>false</isViolent>
        <defaultProjectile>TM_Projectile_Bard</defaultProjectile>
        <warmupTime>2</warmupTime>
        <SecondsToRecharge>10</SecondsToRecharge>
        <range>0</range>
        <soundCast>Message_PositiveEvent</soundCast>
        <muzzleFlashScale>30</muzzleFlashScale>
        <isPrimary>false</isPrimary>
   	    <AbilityTargetCategory>TargetSelf</AbilityTargetCategory>
		<targetParams>
		  <canTargetPawns>true</canTargetPawns>
		  <canTargetBuildings>false</canTargetBuildings>
		  <canTargetSelf>true</canTargetSelf>
		  <canTargetLocations>false</canTargetLocations>
		</targetParams>
    </MainVerb>
  </TorannMagic.TMAbilityDef>
  
   <!-- Inspire -->
  
  <TorannMagic.TMAbilityDef ParentName="BaseMagicAbility">
        <defName>TM_Inspire</defName>
        <label>Inspirar</label>
        <uiIconPath>UI/inspire</uiIconPath>
        <description>O bardo inspira outros peões próximos. Essa habilidade está sempre ativa.</description>
        <manaCost>0.0</manaCost>
		<learnChance>.5</learnChance>
		<MainVerb Class="AbilityUser.VerbProperties_Ability">
            <verbClass>TorannMagic.Verb_SB</verbClass>
				<tooltipShowProjectileDamage>false</tooltipShowProjectileDamage>
				<tooltipShowExtraDamages>false</tooltipShowExtraDamages>
				<tooltipShowHediffsToApply>false</tooltipShowHediffsToApply>
				<tooltipShowMentalStatesToApply>false</tooltipShowMentalStatesToApply>
            <hasStandardCommand>true</hasStandardCommand>
            <defaultProjectile>TM_Projectile_Bard</defaultProjectile>
            <abilityDef>TM_Inspire</abilityDef>
            <warmupTime>4</warmupTime>
            <SecondsToRecharge>60</SecondsToRecharge>
            <range>0</range>
            <burstShotCount>1</burstShotCount>
            <soundCast>Message_PositiveEvent</soundCast>
			<soundCastTail>GunTail_Medium</soundCastTail>
            <muzzleFlashScale>4</muzzleFlashScale>
            <isPrimary>false</isPrimary>
			<isViolent>false</isViolent>
			<targetParams>
                <canTargetPawns>true</canTargetPawns>
                <canTargetBuildings>false</canTargetBuildings>
                <canTargetSelf>true</canTargetSelf>
                <canTargetLocations>true</canTargetLocations>
            </targetParams>
        </MainVerb>
    </TorannMagic.TMAbilityDef>

   <!-- Lullaby -->
   
	<TorannMagic.TMAbilityDef ParentName="BaseMagicAbility">
        <defName>TM_Lullaby</defName>
        <label>Canção de ninar</label>
        <uiIconPath>UI/lullaby</uiIconPath>
        <description>Projeta uma onda emocionalmente calmante que lava as preocupações e a consciência que podem colocar qualquer criatura na área-alvo para dormir. Não funciona em mecanóides.</description>
		<manaCost>0.40</manaCost>
		<learnChance>.5</learnChance>
		<efficiencyReductionPercent>.08</efficiencyReductionPercent>
		<canCopy>true</canCopy>
        <MainVerb Class="AbilityUser.VerbProperties_Ability">
            <verbClass>TorannMagic.Verb_Lullaby</verbClass>
				<tooltipShowProjectileDamage>false</tooltipShowProjectileDamage>
				<tooltipShowExtraDamages>false</tooltipShowExtraDamages>
				<tooltipShowHediffsToApply>true</tooltipShowHediffsToApply>
				<tooltipShowMentalStatesToApply>false</tooltipShowMentalStatesToApply>
            <hasStandardCommand>true</hasStandardCommand>
            <defaultProjectile>TM_Projectile_Bard</defaultProjectile>
            <abilityDef>TM_Lullaby</abilityDef>
            <warmupTime>3</warmupTime>
            <SecondsToRecharge>60.0</SecondsToRecharge>
            <range>36</range>
            <burstShotCount>1</burstShotCount>
            <soundCast>TM_Vibration</soundCast>
			<soundCastTail>GunTail_Medium</soundCastTail>
            <muzzleFlashScale>20</muzzleFlashScale>
            <isPrimary>false</isPrimary>
			<isViolent>false</isViolent>
			<AbilityTargetCategory>TargetAoE</AbilityTargetCategory>
            <TargetAoEProperties>
                <targetClass>Pawn</targetClass>
                <showRangeOnSelect>true</showRangeOnSelect>
                <friendlyFire>true</friendlyFire>
                <startsFromCaster>false</startsFromCaster>
                <maxTargets>4</maxTargets>
                <range>3</range>
            </TargetAoEProperties>
			<targetParams>
                <canTargetPawns>true</canTargetPawns>
                <canTargetBuildings>false</canTargetBuildings>
                <canTargetSelf>true</canTargetSelf>
                <canTargetLocations>true</canTargetLocations>
            </targetParams>
        </MainVerb>
    </TorannMagic.TMAbilityDef>
	
	<TorannMagic.TMAbilityDef ParentName="BaseMagicAbility">
        <defName>TM_Lullaby_I</defName>
        <label>Canção de ninar (I)</label>
        <uiIconPath>UI/lullaby</uiIconPath>
        <description>Projeta uma onda emocionalmente calmante que lava as preocupações e a consciência que podem colocar qualquer criatura na área-alvo para dormir.</description>
		<manaCost>0.40</manaCost>
		<efficiencyReductionPercent>.08</efficiencyReductionPercent>
		<shouldInitialize>false</shouldInitialize>
        <MainVerb Class="AbilityUser.VerbProperties_Ability">
            <verbClass>TorannMagic.Verb_Lullaby</verbClass>
				<tooltipShowProjectileDamage>false</tooltipShowProjectileDamage>
				<tooltipShowExtraDamages>false</tooltipShowExtraDamages>
				<tooltipShowHediffsToApply>true</tooltipShowHediffsToApply>
				<tooltipShowMentalStatesToApply>false</tooltipShowMentalStatesToApply>
            <hasStandardCommand>true</hasStandardCommand>
            <defaultProjectile>TM_Projectile_Bard</defaultProjectile>
            <abilityDef>TM_Lullaby_I</abilityDef>
            <warmupTime>2.8</warmupTime>
            <SecondsToRecharge>60.0</SecondsToRecharge>
            <range>38</range>
            <burstShotCount>1</burstShotCount>
            <soundCast>TM_Vibration</soundCast>
			<soundCastTail>GunTail_Medium</soundCastTail>
            <muzzleFlashScale>20</muzzleFlashScale>
            <isPrimary>false</isPrimary>
			<isViolent>false</isViolent>
			<AbilityTargetCategory>TargetAoE</AbilityTargetCategory>
            <TargetAoEProperties>
                <targetClass>Pawn</targetClass>
                <showRangeOnSelect>true</showRangeOnSelect>
                <friendlyFire>true</friendlyFire>
                <startsFromCaster>false</startsFromCaster>
                <maxTargets>5</maxTargets>
                <range>3</range>
            </TargetAoEProperties>
			<targetParams>
                <canTargetPawns>true</canTargetPawns>
                <canTargetBuildings>false</canTargetBuildings>
                <canTargetSelf>true</canTargetSelf>
                <canTargetLocations>true</canTargetLocations>
            </targetParams>
        </MainVerb>
    </TorannMagic.TMAbilityDef>
	
	<TorannMagic.TMAbilityDef ParentName="BaseMagicAbility">
        <defName>TM_Lullaby_II</defName>
        <label>Canção de ninar (II)</label>
        <uiIconPath>UI/lullaby</uiIconPath>
        <description>Projeta uma onda emocionalmente calmante que lava as preocupações e a consciência que podem colocar qualquer criatura na área-alvo para dormir.</description>
		<manaCost>0.40</manaCost>
		<efficiencyReductionPercent>.08</efficiencyReductionPercent>
		<shouldInitialize>false</shouldInitialize>
        <MainVerb Class="AbilityUser.VerbProperties_Ability">
            <verbClass>TorannMagic.Verb_Lullaby</verbClass>
				<tooltipShowProjectileDamage>false</tooltipShowProjectileDamage>
				<tooltipShowExtraDamages>false</tooltipShowExtraDamages>
				<tooltipShowHediffsToApply>true</tooltipShowHediffsToApply>
				<tooltipShowMentalStatesToApply>false</tooltipShowMentalStatesToApply>
            <hasStandardCommand>true</hasStandardCommand>
            <defaultProjectile>TM_Projectile_Bard</defaultProjectile>
            <abilityDef>TM_Lullaby_II</abilityDef>
            <warmupTime>2.6</warmupTime>
            <SecondsToRecharge>60.0</SecondsToRecharge>
            <range>40</range>
            <burstShotCount>1</burstShotCount>
            <soundCast>TM_Vibration</soundCast>
			<soundCastTail>GunTail_Medium</soundCastTail>
            <muzzleFlashScale>20</muzzleFlashScale>
            <isPrimary>false</isPrimary>
			<isViolent>false</isViolent>
			<AbilityTargetCategory>TargetAoE</AbilityTargetCategory>
            <TargetAoEProperties>
                <targetClass>Pawn</targetClass>
                <showRangeOnSelect>true</showRangeOnSelect>
                <friendlyFire>true</friendlyFire>
                <startsFromCaster>false</startsFromCaster>
                <maxTargets>6</maxTargets>
                <range>4</range>
            </TargetAoEProperties>
			<targetParams>
                <canTargetPawns>true</canTargetPawns>
                <canTargetBuildings>false</canTargetBuildings>
                <canTargetSelf>true</canTargetSelf>
                <canTargetLocations>true</canTargetLocations>
            </targetParams>
        </MainVerb>
    </TorannMagic.TMAbilityDef>
	
	<TorannMagic.TMAbilityDef ParentName="BaseMagicAbility">
        <defName>TM_Lullaby_III</defName>
        <label>Canção de ninar</label>
        <uiIconPath>UI/lullaby</uiIconPath>
        <description>Projeta uma onda emocionalmente calmante que lava as preocupações e a consciência que podem colocar qualquer criatura na área-alvo para dormir.</description>
		<manaCost>0.40</manaCost>
		<efficiencyReductionPercent>.08</efficiencyReductionPercent>
		<shouldInitialize>false</shouldInitialize>
        <MainVerb Class="AbilityUser.VerbProperties_Ability">
            <verbClass>TorannMagic.Verb_Lullaby</verbClass>
				<tooltipShowProjectileDamage>false</tooltipShowProjectileDamage>
				<tooltipShowExtraDamages>false</tooltipShowExtraDamages>
				<tooltipShowHediffsToApply>true</tooltipShowHediffsToApply>
				<tooltipShowMentalStatesToApply>false</tooltipShowMentalStatesToApply>
            <hasStandardCommand>true</hasStandardCommand>
            <defaultProjectile>TM_Projectile_Bard</defaultProjectile>
            <abilityDef>TM_Lullaby_III</abilityDef>
            <warmupTime>2.4</warmupTime>
            <SecondsToRecharge>60.0</SecondsToRecharge>
            <range>42</range>
            <burstShotCount>1</burstShotCount>
            <soundCast>TM_Vibration</soundCast>
			<soundCastTail>GunTail_Medium</soundCastTail>
            <muzzleFlashScale>20</muzzleFlashScale>
            <isPrimary>false</isPrimary>
			<isViolent>false</isViolent>
			<AbilityTargetCategory>TargetAoE</AbilityTargetCategory>
            <TargetAoEProperties>
                <targetClass>Pawn</targetClass>
                <showRangeOnSelect>true</showRangeOnSelect>
                <friendlyFire>true</friendlyFire>
                <startsFromCaster>false</startsFromCaster>
                <maxTargets>7</maxTargets>
                <range>4</range>
            </TargetAoEProperties>
			<targetParams>
                <canTargetPawns>true</canTargetPawns>
                <canTargetBuildings>false</canTargetBuildings>
                <canTargetSelf>true</canTargetSelf>
                <canTargetLocations>true</canTargetLocations>
            </targetParams>
        </MainVerb>
    </TorannMagic.TMAbilityDef>
  
     <!-- Battle Hymn -->
	 
 <TorannMagic.TMAbilityDef ParentName="BaseMagicAbility">
    <defName>TM_BattleHymn</defName>
    <label>Hino de batalha</label>
    <uiIconPath>UI/anthem</uiIconPath>
    <description>Toque um hino de batalha empolgante para motivar e capacitar aliados próximos. Cada verso do hino aumenta o efeito e reforçará ainda mais o poder de combate dos aliados. Cada verso consome 9% de mana adicional (reduzido durante o treinamento).

Battle Hymn tem uma pequena chance de causar inspirações que irão aumentar ainda mais as habilidades de combate.

Use a habilidade para ativar ou desativar a habilidade.</description>
    <manaCost>0.20</manaCost>
	<efficiencyReductionPercent>.06</efficiencyReductionPercent>
	<learnItem>SpellOf_BattleHymn</learnItem>
	<learnChance>.15</learnChance>
    <MainVerb Class="AbilityUser.VerbProperties_Ability">
        <verbClass>TorannMagic.Verb_BattleHymn</verbClass>
			<tooltipShowProjectileDamage>false</tooltipShowProjectileDamage>
			<tooltipShowExtraDamages>false</tooltipShowExtraDamages>
			<tooltipShowHediffsToApply>false</tooltipShowHediffsToApply>
			<tooltipShowMentalStatesToApply>false</tooltipShowMentalStatesToApply>
        <hasStandardCommand>true</hasStandardCommand>
		<abilityDef>TM_BattleHymn</abilityDef>
		<isViolent>false</isViolent>
        <defaultProjectile>TM_Projectile_Bard</defaultProjectile>
        <warmupTime>1</warmupTime>
        <SecondsToRecharge>10</SecondsToRecharge>
        <range>0</range>
        <muzzleFlashScale>30</muzzleFlashScale>
        <isPrimary>true</isPrimary>
		<AlwaysHits>true</AlwaysHits>
		<requireLineOfSight>false</requireLineOfSight>
   	    <AbilityTargetCategory>TargetSelf</AbilityTargetCategory>
		<targetParams>
		  <canTargetPawns>true</canTargetPawns>
		  <canTargetBuildings>false</canTargetBuildings>
		  <canTargetSelf>true</canTargetSelf>
		  <canTargetLocations>false</canTargetLocations>
		</targetParams>
    </MainVerb>
  </TorannMagic.TMAbilityDef>
	 
</Defs>