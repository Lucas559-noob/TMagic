<?xml version="1.0" encoding="utf-8" ?>

<Defs>

	 <!-- Light Lance  -->	
	
	<ThingDef ParentName="BaseBullet" Class="AbilityUser.ProjectileDef_Ability">
		<thingClass>TorannMagic.Projectile_LightLance</thingClass>
	    <defName>Projectile_LightLance</defName>
        <label>lança leve</label>
        <graphicData>
			<texPath>Spells/invis</texPath>
			<graphicClass>Graphic_Single</graphicClass>
			<shaderType>MoteGlow</shaderType>
        </graphicData>
        <projectile>
			<flyOverhead>true</flyOverhead>
            <damageDef>TM_BurningLight</damageDef>
            <damageAmountBase>0</damageAmountBase>
            <speed>999</speed>
        </projectile>
    </ThingDef>
	
	<ThingDef ParentName="BaseBullet" Name="FlyingObject_LightLance">
	   <defName>FlyingObject_LightLance</defName>
	   <thingClass>TorannMagic.FlyingObject_LightLance</thingClass>
	   <label>lança leve</label>
	   <graphicData>
			<texPath>Spells/invis</texPath>
			<graphicClass>Graphic_Single</graphicClass>
		</graphicData>
	   <projectile>
			<flyOverhead>true</flyOverhead>
			<damageDef>TM_BurningLight</damageDef>
			<damageAmountBase>6</damageAmountBase>
			<speed>200</speed>
			<explosionRadius>2</explosionRadius>
	   </projectile>
	</ThingDef>
	
    <TorannMagic.TMAbilityDef ParentName="BaseMagicAbility">
        <defName>TM_LightLance</defName>
        <label>Lança Leve</label>
        <uiIconPath>UI/lightlance</uiIconPath>
        <description>Concentre a luz em um feixe intenso que queima tudo ao longo de seu caminho. Essa habilidade é potencializada pela luz armazenada.</description>
        <manaCost>0.45</manaCost>
		<efficiencyReductionPercent>.08</efficiencyReductionPercent>
		<learnChance>.4</learnChance>
		<canCopy>true</canCopy>
		<MainVerb Class="AbilityUser.VerbProperties_Ability">
            <verbClass>TorannMagic.Effect_LightLance</verbClass>
				<tooltipShowProjectileDamage>true</tooltipShowProjectileDamage>
				<tooltipShowExtraDamages>false</tooltipShowExtraDamages>
				<tooltipShowHediffsToApply>false</tooltipShowHediffsToApply>
				<tooltipShowMentalStatesToApply>false</tooltipShowMentalStatesToApply>
            <hasStandardCommand>true</hasStandardCommand>
            <defaultProjectile>Projectile_LightLance</defaultProjectile>
            <abilityDef>TM_LightLance</abilityDef>
            <warmupTime>3</warmupTime>
            <SecondsToRecharge>120</SecondsToRecharge>
            <range>50</range>
            <burstShotCount>12</burstShotCount>
			<ticksBetweenBurstShots>22</ticksBetweenBurstShots>
            <soundCast>TM_FireBurn</soundCast>
			<soundCastTail>TM_Vibration</soundCastTail>
            <muzzleFlashScale>2</muzzleFlashScale>
		    <AlwaysHits>true</AlwaysHits>
            <isPrimary>true</isPrimary>
			<isViolent>true</isViolent>
			<targetParams>
				<canTargetItems>false</canTargetItems>
                <canTargetPawns>true</canTargetPawns>
                <canTargetBuildings>true</canTargetBuildings>
                <canTargetSelf>false</canTargetSelf>
                <canTargetLocations>true</canTargetLocations>
            </targetParams>
        </MainVerb>
    </TorannMagic.TMAbilityDef>
	
	<!-- Sunfire  -->	
	
	<ThingDef ParentName="BaseBullet" Class="AbilityUser.ProjectileDef_Ability">
		<thingClass>TorannMagic.Projectile_Sunfire</thingClass>
	    <defName>Projectile_Sunfire</defName>
        <label>fogo solar</label>
        <graphicData>
			<texPath>Spells/invis</texPath>
			<graphicClass>Graphic_Single</graphicClass>
        </graphicData>
        <projectile>
			<flyOverhead>true</flyOverhead>
            <damageDef>TM_BurningLight</damageDef>
            <damageAmountBase>0</damageAmountBase>
            <speed>999</speed>
			<explosionRadius>3</explosionRadius>
			<postExplosionSpawnChance>1</postExplosionSpawnChance>
        </projectile>
    </ThingDef>
	
	<ThingDef ParentName="BaseBullet" Class="AbilityUser.ProjectileDef_Ability">
		<thingClass>TorannMagic.Projectile_Sunfire</thingClass>
	    <defName>Projectile_Sunfire_I</defName>
        <label>fogo solar</label>
        <graphicData>
			<texPath>Spells/invis</texPath>
			<graphicClass>Graphic_Single</graphicClass>
        </graphicData>
        <projectile>
			<flyOverhead>true</flyOverhead>
            <damageDef>TM_BurningLight</damageDef>
            <damageAmountBase>0</damageAmountBase>
            <speed>999</speed>
			<explosionRadius>4</explosionRadius>
			<postExplosionSpawnChance>1</postExplosionSpawnChance>
        </projectile>
    </ThingDef>
	
	<ThingDef ParentName="BaseBullet" Class="AbilityUser.ProjectileDef_Ability">
		<thingClass>TorannMagic.Projectile_Sunfire</thingClass>
	    <defName>Projectile_Sunfire_II</defName>
        <label>fogo solar</label>
        <graphicData>
			<texPath>Spells/invis</texPath>
			<graphicClass>Graphic_Single</graphicClass>
        </graphicData>
        <projectile>
			<flyOverhead>true</flyOverhead>
            <damageDef>TM_BurningLight</damageDef>
            <damageAmountBase>0</damageAmountBase>
            <speed>999</speed>
			<explosionRadius>5</explosionRadius>
			<postExplosionSpawnChance>1</postExplosionSpawnChance>
        </projectile>
    </ThingDef>
	
	<ThingDef ParentName="BaseBullet" Class="AbilityUser.ProjectileDef_Ability">
		<thingClass>TorannMagic.Projectile_Sunfire</thingClass>
	    <defName>Projectile_Sunfire_III</defName>
        <label>fogo solar</label>
        <graphicData>
			<texPath>Spells/invis</texPath>
			<graphicClass>Graphic_Single</graphicClass>
        </graphicData>
        <projectile>
			<flyOverhead>true</flyOverhead>
            <damageDef>TM_BurningLight</damageDef>
            <damageAmountBase>0</damageAmountBase>
            <speed>999</speed>
			<explosionRadius>6</explosionRadius>
			<postExplosionSpawnChance>1</postExplosionSpawnChance>
        </projectile>
    </ThingDef>
	
    <TorannMagic.TMAbilityDef ParentName="BaseMagicAbility">
        <defName>TM_Sunfire</defName>
        <label>Fogo Solar</label>
        <uiIconPath>UI/sunfire</uiIconPath>
        <description>A área do alvo é entrelaçada com barras de luz ardentes. Essa habilidade é potencializada pela luz armazenada.

Tempo de conjuração: 3s
Alcance: 50
Cooldown: 60s
Raio: 5
Quantidade: 13</description>
        <manaCost>0.65</manaCost>
		<efficiencyReductionPercent>.06</efficiencyReductionPercent>
		<learnChance>.3</learnChance>
		<canCopy>true</canCopy>
		<MainVerb Class="AbilityUser.VerbProperties_Ability">
            <verbClass>TorannMagic.Verb_BLOS</verbClass>
				<tooltipShowProjectileDamage>true</tooltipShowProjectileDamage>
				<tooltipShowExtraDamages>false</tooltipShowExtraDamages>
				<tooltipShowHediffsToApply>false</tooltipShowHediffsToApply>
				<tooltipShowMentalStatesToApply>false</tooltipShowMentalStatesToApply>
            <hasStandardCommand>true</hasStandardCommand>
            <defaultProjectile>Projectile_Sunfire</defaultProjectile>
            <abilityDef>TM_Sunfire</abilityDef>
            <warmupTime>3</warmupTime>
            <SecondsToRecharge>60</SecondsToRecharge>
            <range>50</range>
            <burstShotCount>1</burstShotCount>
            <soundCast>TM_Vibration</soundCast>
			<soundCastTail>TM_VibrationLow</soundCastTail>
            <muzzleFlashScale>4</muzzleFlashScale>
		    <AlwaysHits>true</AlwaysHits>
            <isPrimary>true</isPrimary>
			<isViolent>true</isViolent>
			<targetParams>
				<canTargetItems>false</canTargetItems>
                <canTargetPawns>true</canTargetPawns>
                <canTargetBuildings>true</canTargetBuildings>
                <canTargetSelf>false</canTargetSelf>
                <canTargetLocations>true</canTargetLocations>
            </targetParams>
        </MainVerb>
    </TorannMagic.TMAbilityDef>

    <TorannMagic.TMAbilityDef ParentName="BaseMagicAbility">
        <defName>TM_Sunfire_I</defName>
        <label>Fogo Solar (I)</label>
        <uiIconPath>UI/sunfire</uiIconPath>
        <description>A área do alvo é entrelaçada com barras de luz ardentes. Essa habilidade é potencializada pela luz armazenada.

Tempo de conjuração: 2.7s
Alcance: 55
Cooldown: 55s
Raio: 6
Quantidade: 14</description>
        <manaCost>0.65</manaCost>
		<efficiencyReductionPercent>.06</efficiencyReductionPercent>
		<shouldInitialize>false</shouldInitialize>
		<MainVerb Class="AbilityUser.VerbProperties_Ability">
            <verbClass>TorannMagic.Verb_BLOS</verbClass>
				<tooltipShowProjectileDamage>true</tooltipShowProjectileDamage>
				<tooltipShowExtraDamages>false</tooltipShowExtraDamages>
				<tooltipShowHediffsToApply>false</tooltipShowHediffsToApply>
				<tooltipShowMentalStatesToApply>false</tooltipShowMentalStatesToApply>
            <hasStandardCommand>true</hasStandardCommand>
            <defaultProjectile>Projectile_Sunfire_I</defaultProjectile>
            <abilityDef>TM_Sunfire_I</abilityDef>
            <warmupTime>2.7</warmupTime>
            <SecondsToRecharge>55</SecondsToRecharge>
            <range>55</range>
            <burstShotCount>1</burstShotCount>
            <soundCast>TM_Vibration</soundCast>
			<soundCastTail>TM_VibrationLow</soundCastTail>
            <muzzleFlashScale>4</muzzleFlashScale>
		    <AlwaysHits>true</AlwaysHits>
            <isPrimary>true</isPrimary>
			<isViolent>true</isViolent>
			<targetParams>
				<canTargetItems>false</canTargetItems>
                <canTargetPawns>true</canTargetPawns>
                <canTargetBuildings>true</canTargetBuildings>
                <canTargetSelf>false</canTargetSelf>
                <canTargetLocations>true</canTargetLocations>
            </targetParams>
        </MainVerb>
    </TorannMagic.TMAbilityDef>

    <TorannMagic.TMAbilityDef ParentName="BaseMagicAbility">
        <defName>TM_Sunfire_II</defName>
        <label>Fogo Solar (II)</label>
        <uiIconPath>UI/sunfire</uiIconPath>
        <description>A área do alvo é entrelaçada com barras de luz ardentes. Essa habilidade é potencializada pela luz armazenada.

Tempo de conjuração: 2,4 s
Alcance: 60
Cooldown: 50s
Raio: 7
Quantidade: 15</description>
        <manaCost>0.65</manaCost>
		<efficiencyReductionPercent>.06</efficiencyReductionPercent>
		<shouldInitialize>false</shouldInitialize>
		<MainVerb Class="AbilityUser.VerbProperties_Ability">
            <verbClass>TorannMagic.Verb_BLOS</verbClass>
				<tooltipShowProjectileDamage>true</tooltipShowProjectileDamage>
				<tooltipShowExtraDamages>false</tooltipShowExtraDamages>
				<tooltipShowHediffsToApply>false</tooltipShowHediffsToApply>
				<tooltipShowMentalStatesToApply>false</tooltipShowMentalStatesToApply>
            <hasStandardCommand>true</hasStandardCommand>
            <defaultProjectile>Projectile_Sunfire_II</defaultProjectile>
            <abilityDef>TM_Sunfire_II</abilityDef>
            <warmupTime>2.4</warmupTime>
            <SecondsToRecharge>50</SecondsToRecharge>
            <range>60</range>
            <burstShotCount>1</burstShotCount>
            <soundCast>TM_Vibration</soundCast>
			<soundCastTail>TM_VibrationLow</soundCastTail>
            <muzzleFlashScale>4</muzzleFlashScale>
		    <AlwaysHits>true</AlwaysHits>
            <isPrimary>true</isPrimary>
			<isViolent>true</isViolent>
			<targetParams>
				<canTargetItems>false</canTargetItems>
                <canTargetPawns>true</canTargetPawns>
                <canTargetBuildings>true</canTargetBuildings>
                <canTargetSelf>false</canTargetSelf>
                <canTargetLocations>true</canTargetLocations>
            </targetParams>
        </MainVerb>
    </TorannMagic.TMAbilityDef>

    <TorannMagic.TMAbilityDef ParentName="BaseMagicAbility">
        <defName>TM_Sunfire_III</defName>
        <label>Fogo Solar (III)</label>
        <uiIconPath>UI/sunfire</uiIconPath>
        <description>A área do alvo é entrelaçada com barras de luz ardentes. Essa habilidade é potencializada pela luz armazenada.

Tempo de conjuração: 2.2s
Alcance: 65
Cooldown: 45s
Raio: 8
Quantidade: 16</description>
        <manaCost>0.65</manaCost>		
		<efficiencyReductionPercent>.06</efficiencyReductionPercent>
		<shouldInitialize>false</shouldInitialize>
		<MainVerb Class="AbilityUser.VerbProperties_Ability">
            <verbClass>TorannMagic.Verb_BLOS</verbClass>
				<tooltipShowProjectileDamage>true</tooltipShowProjectileDamage>
				<tooltipShowExtraDamages>false</tooltipShowExtraDamages>
				<tooltipShowHediffsToApply>false</tooltipShowHediffsToApply>
				<tooltipShowMentalStatesToApply>false</tooltipShowMentalStatesToApply>
            <hasStandardCommand>true</hasStandardCommand>
            <defaultProjectile>Projectile_Sunfire_III</defaultProjectile>
            <abilityDef>TM_Sunfire_III</abilityDef>
            <warmupTime>2.2</warmupTime>
            <SecondsToRecharge>45</SecondsToRecharge>
            <range>65</range>
            <burstShotCount>1</burstShotCount>
            <soundCast>TM_Vibration</soundCast>
			<soundCastTail>TM_VibrationLow</soundCastTail>
            <muzzleFlashScale>4</muzzleFlashScale>
		    <AlwaysHits>true</AlwaysHits>
            <isPrimary>true</isPrimary>
			<isViolent>true</isViolent>
			<targetParams>
				<canTargetItems>false</canTargetItems>
                <canTargetPawns>true</canTargetPawns>
                <canTargetBuildings>true</canTargetBuildings>
                <canTargetSelf>false</canTargetSelf>
                <canTargetLocations>true</canTargetLocations>
            </targetParams>
        </MainVerb>
    </TorannMagic.TMAbilityDef>
	
	<!-- Light Burst -->
   
	<TorannMagic.TMAbilityDef ParentName="BaseMagicAbility">
        <defName>TM_LightBurst</defName>
        <label>Explosão de luz</label>
        <uiIconPath>UI/lightburst</uiIconPath>
        <description>Cria flashes de luz que os peões cegos e desorientados capturaram na explosão. Os peões desorientados serão incapazes de distinguir entre amigos e inimigos e podem atirar em peões aliados próximos. Essa habilidade é potencializada pela luz armazenada.</description>
		<manaCost>0.35</manaCost>
		<efficiencyReductionPercent>.08</efficiencyReductionPercent>
		<learnChance>.6</learnChance>
		<canCopy>true</canCopy>
        <MainVerb Class="AbilityUser.VerbProperties_Ability">
            <verbClass>TorannMagic.Verb_LightBurst</verbClass>
				<tooltipShowProjectileDamage>false</tooltipShowProjectileDamage>
				<tooltipShowExtraDamages>false</tooltipShowExtraDamages>
				<tooltipShowHediffsToApply>false</tooltipShowHediffsToApply>
				<tooltipShowMentalStatesToApply>false</tooltipShowMentalStatesToApply>
            <hasStandardCommand>true</hasStandardCommand>
            <defaultProjectile>Projectile_Default</defaultProjectile>
            <abilityDef>TM_LightBurst</abilityDef>
            <warmupTime>1</warmupTime>
            <SecondsToRecharge>60</SecondsToRecharge>
            <range>50</range>
            <burstShotCount>4</burstShotCount>
			<ticksBetweenBurstShots>12</ticksBetweenBurstShots>
            <soundCast>TM_SoftExplosion</soundCast>
            <muzzleFlashScale>20</muzzleFlashScale>
            <isPrimary>false</isPrimary>
			<isViolent>false</isViolent>
			<AbilityTargetCategory>TargetAoE</AbilityTargetCategory>
            <TargetAoEProperties>
                <targetClass>Pawn</targetClass>
                <showRangeOnSelect>true</showRangeOnSelect>
                <friendlyFire>true</friendlyFire>
                <startsFromCaster>false</startsFromCaster>
                <maxTargets>5</maxTargets>
                <range>6</range>
            </TargetAoEProperties>
			<targetParams>
                <canTargetPawns>true</canTargetPawns>
                <canTargetBuildings>false</canTargetBuildings>
                <canTargetSelf>true</canTargetSelf>
                <canTargetLocations>true</canTargetLocations>
            </targetParams>
        </MainVerb>
    </TorannMagic.TMAbilityDef>
	
	<!-- Light Skip -->
	
	<ThingDef ParentName="BaseBullet" Class="AbilityUser.ProjectileDef_Ability">
		<thingClass>TorannMagic.Projectile_LightSkip</thingClass>
	    <defName>Projectile_LightSkip</defName>
        <label>salto leve</label>
        <graphicData>
			<texPath>Spells/invis</texPath>
			<graphicClass>Graphic_Single</graphicClass>
        </graphicData>
        <projectile>
			<flyOverhead>true</flyOverhead>
            <damageDef>TM_Shadow</damageDef>
            <damageAmountBase>0</damageAmountBase>
            <speed>999</speed>
        </projectile>
    </ThingDef>
	
	<TorannMagic.TMAbilityDef ParentName="BaseMagicAbility">
        <defName>TM_LightSkip</defName>
        <label>Salto de luz</label>
        <uiIconPath>UI/lightskip</uiIconPath>
        <description>O lançador monta uma onda de luz para uma viagem quase instantânea. Nem a posição do lançador ou a posição do alvo podem ser cobertas.</description>
		<manaCost>0.20</manaCost>
		<efficiencyReductionPercent>.08</efficiencyReductionPercent>
		<learnChance>.6</learnChance>
		<canCopy>true</canCopy>
		<MainVerb Class="AbilityUser.VerbProperties_Ability">
            <verbClass>TorannMagic.Verb_LightSkip</verbClass>
				<tooltipShowProjectileDamage>true</tooltipShowProjectileDamage>
				<tooltipShowExtraDamages>false</tooltipShowExtraDamages>
				<tooltipShowHediffsToApply>false</tooltipShowHediffsToApply>
				<tooltipShowMentalStatesToApply>false</tooltipShowMentalStatesToApply>
            <hasStandardCommand>true</hasStandardCommand>
			<requiresLineOfSight>false</requiresLineOfSight>
            <defaultProjectile>Projectile_LightSkip</defaultProjectile>
            <abilityDef>TM_LightSkip</abilityDef>
            <warmupTime>1</warmupTime>
            <SecondsToRecharge>30</SecondsToRecharge>
            <range>300</range>
            <burstShotCount>1</burstShotCount>
            <soundCast>TM_LightZip</soundCast>
			<soundCastTail>TM_LightZip</soundCastTail>
            <muzzleFlashScale>10</muzzleFlashScale>
		    <AlwaysHits>true</AlwaysHits>
            <isPrimary>true</isPrimary>
			<isViolent>false</isViolent>
			<targetParams>
				<canTargetItems>false</canTargetItems>
                <canTargetPawns>true</canTargetPawns>
                <canTargetBuildings>false</canTargetBuildings>
                <canTargetSelf>false</canTargetSelf>
                <canTargetLocations>true</canTargetLocations>
            </targetParams>
        </MainVerb>
    </TorannMagic.TMAbilityDef>
	
	<!-- Mass Light Skip -->
	
	<ThingDef ParentName="BaseBullet" Class="AbilityUser.ProjectileDef_Ability">
		<thingClass>TorannMagic.Projectile_LightSkipMass</thingClass>
	    <defName>Projectile_LightSkipMass</defName>
        <label>pular luz de massa</label>
        <graphicData>
			<texPath>Spells/invis</texPath>
			<graphicClass>Graphic_Single</graphicClass>
        </graphicData>
        <projectile>
			<flyOverhead>true</flyOverhead>
            <damageDef>TM_Shadow</damageDef>
            <damageAmountBase>0</damageAmountBase>
			<explosionRadius>5</explosionRadius>
			<postExplosionSpawnChance>1</postExplosionSpawnChance>
            <speed>999</speed>
        </projectile>
    </ThingDef>
	
	<TorannMagic.TMAbilityDef ParentName="BaseMagicAbility">
        <defName>TM_LightSkipMass</defName>
        <label>Massa Light Skip</label>
        <uiIconPath>UI/masslightskip</uiIconPath>
        <description>O lançador e todos os aliados em um raio de 5 células conduzem ondas de luz para viagens quase instantâneas. Os peões sob um telhado não serão transportados.</description>
		<manaCost>0.40</manaCost>
		<efficiencyReductionPercent>.08</efficiencyReductionPercent>
		<learnChance>0</learnChance>
		<shouldInitialize>false</shouldInitialize>
		<MainVerb Class="AbilityUser.VerbProperties_Ability">
            <verbClass>TorannMagic.Verb_LightSkip</verbClass>
				<tooltipShowProjectileDamage>true</tooltipShowProjectileDamage>
				<tooltipShowExtraDamages>false</tooltipShowExtraDamages>
				<tooltipShowHediffsToApply>false</tooltipShowHediffsToApply>
				<tooltipShowMentalStatesToApply>false</tooltipShowMentalStatesToApply>
            <hasStandardCommand>true</hasStandardCommand>
			<requiresLineOfSight>false</requiresLineOfSight>
            <defaultProjectile>Projectile_LightSkipMass</defaultProjectile>
            <abilityDef>TM_LightSkipMass</abilityDef>
            <warmupTime>2</warmupTime>
            <SecondsToRecharge>60</SecondsToRecharge>
            <range>300</range>
            <burstShotCount>1</burstShotCount>
            <soundCast>TM_LightZip</soundCast>
			<soundCastTail>TM_LightZip</soundCastTail>
            <muzzleFlashScale>10</muzzleFlashScale>
		    <AlwaysHits>true</AlwaysHits>
            <isPrimary>true</isPrimary>
			<isViolent>false</isViolent>
			<targetParams>
				<canTargetItems>true</canTargetItems>
                <canTargetPawns>true</canTargetPawns>
                <canTargetBuildings>false</canTargetBuildings>
                <canTargetSelf>false</canTargetSelf>
                <canTargetLocations>true</canTargetLocations>
            </targetParams>
        </MainVerb>
    </TorannMagic.TMAbilityDef>
	
	<!-- Global Light Skip -->
	
	<TorannMagic.TMAbilityDef ParentName="BaseMagicAbility">
        <defName>TM_LightSkipGlobal</defName>
        <label>Pular Luz Global</label>
        <uiIconPath>UI/globallightskip</uiIconPath>
        <description>O lançador e todos os aliados em um raio de 5 células conduzem ondas de luz para viagens quase instantâneas. Os peões sob um telhado não serão transportados.</description>
		<manaCost>0.50</manaCost>
		<efficiencyReductionPercent>.08</efficiencyReductionPercent>
		<learnChance>0</learnChance>
		<shouldInitialize>false</shouldInitialize>
		<MainVerb Class="AbilityUser.VerbProperties_Ability">
            <verbClass>TorannMagic.Verb_LightSkipGlobal</verbClass>
				<tooltipShowProjectileDamage>true</tooltipShowProjectileDamage>
				<tooltipShowExtraDamages>false</tooltipShowExtraDamages>
				<tooltipShowHediffsToApply>false</tooltipShowHediffsToApply>
				<tooltipShowMentalStatesToApply>false</tooltipShowMentalStatesToApply>
            <hasStandardCommand>true</hasStandardCommand>
			<requiresLineOfSight>false</requiresLineOfSight>
            <defaultProjectile>Projectile_Default</defaultProjectile>
            <abilityDef>TM_LightSkipGlobal</abilityDef>
            <warmupTime>3</warmupTime>
            <SecondsToRecharge>600</SecondsToRecharge>
            <range>300</range>
            <burstShotCount>1</burstShotCount>
            <soundCast>TM_LightZip</soundCast>
			<soundCastTail>TM_LightZip</soundCastTail>
            <muzzleFlashScale>10</muzzleFlashScale>
		    <AlwaysHits>true</AlwaysHits>
            <isPrimary>true</isPrimary>
			<isViolent>false</isViolent>
			<AbilityTargetCategory>TargetSelf</AbilityTargetCategory>
			<targetParams>
				<canTargetItems>false</canTargetItems>
                <canTargetPawns>true</canTargetPawns>
                <canTargetBuildings>false</canTargetBuildings>
                <canTargetSelf>true</canTargetSelf>
                <canTargetLocations>false</canTargetLocations>
            </targetParams>
        </MainVerb>
    </TorannMagic.TMAbilityDef>
	
	<!-- Refraction -->	
	
	<ThingDef ParentName="BaseBullet" Class="AbilityUser.ProjectileDef_Ability">
		<thingClass>TorannMagic.Projectile_Refraction</thingClass>
	    <defName>Projectile_Refraction</defName>
        <label>refração</label>
        <graphicData>
			<texPath>Spells/invis</texPath>
			<graphicClass>Graphic_Single</graphicClass>
			<shaderType>TransparentPostLight</shaderType>
        </graphicData>
        <projectile>
            <damageDef>TM_Holy</damageDef>
            <damageAmountBase>0</damageAmountBase>
            <speed>999</speed>
        </projectile>
    </ThingDef>
	
    <TorannMagic.TMAbilityDef ParentName="BaseMagicAbility">
        <defName>TM_Refraction</defName>
        <label>Refração</label>
        <uiIconPath>UI/refraction</uiIconPath>
        <description>Cria uma parede de luz que afeta os projéteis à medida que atravessam a parede. Os projéteis inimigos podem ser compensados ​​de seus alvos pretendidos. Projéteis amigáveis ​​podem usar uma parte da energia da luz para criar um reflexo espelhado do projétil. A parede vai durar cerca de 25 segundos ou até ficar sem energia. Essa habilidade é potencializada pela luz armazenada.</description>
        <manaCost>0.50</manaCost>
		<efficiencyReductionPercent>.06</efficiencyReductionPercent>
		<learnChance>.3</learnChance>
		<canCopy>true</canCopy>
		<MainVerb Class="AbilityUser.VerbProperties_Ability">
            <verbClass>TorannMagic.Verb_SB</verbClass>
				<tooltipShowProjectileDamage>true</tooltipShowProjectileDamage>
				<tooltipShowExtraDamages>false</tooltipShowExtraDamages>
				<tooltipShowHediffsToApply>false</tooltipShowHediffsToApply>
				<tooltipShowMentalStatesToApply>false</tooltipShowMentalStatesToApply>
            <hasStandardCommand>true</hasStandardCommand>
            <defaultProjectile>Projectile_Refraction</defaultProjectile>
            <abilityDef>TM_Refraction</abilityDef>
            <warmupTime>1</warmupTime>
            <SecondsToRecharge>120</SecondsToRecharge>
            <range>45</range>
            <burstShotCount>1</burstShotCount>
            <soundCast>TM_Vibration</soundCast>
			<soundCastTail>TM_VibrationLow</soundCastTail>
            <muzzleFlashScale>2</muzzleFlashScale>
		    <AlwaysHits>true</AlwaysHits>
            <isPrimary>true</isPrimary>
			<isViolent>false</isViolent>
			<targetParams>
				<canTargetItems>true</canTargetItems>
                <canTargetPawns>false</canTargetPawns>
                <canTargetBuildings>false</canTargetBuildings>
                <canTargetSelf>false</canTargetSelf>
                <canTargetLocations>true</canTargetLocations>
            </targetParams>
        </MainVerb>
    </TorannMagic.TMAbilityDef>
	
	
	 <!-- Spirit of Light (SoL) -->	
	
	<ThingDef ParentName="BaseBullet" Class="AbilityUser.ProjectileDef_Ability">
		<thingClass>AbilityUser.Projectile_Ability</thingClass>
	    <defName>Projectile_SpiritOfLight</defName>
        <label>espírito de luz</label>
        <graphicData>
			<texPath>Spells/invis</texPath>
			<graphicClass>Graphic_Single</graphicClass>
			<shaderType>MoteGlow</shaderType>
        </graphicData>
        <projectile>
            <damageDef>TM_BurningLight</damageDef>
            <damageAmountBase>0</damageAmountBase>
            <speed>999</speed>
        </projectile>
    </ThingDef>
	
	<ThingDef ParentName="BaseBullet" Name="FlyingObject_SpiritOfLight">
	   <defName>FlyingObject_SpiritOfLight</defName>
	   <thingClass>TorannMagic.FlyingObject_SpiritOfLight</thingClass>
	   <label>espírito de luz</label>
	   <graphicData>
			<texPath>Spells/invis</texPath>
			<graphicClass>Graphic_Single</graphicClass>
		</graphicData>
	   <projectile>
			<flyOverhead>true</flyOverhead>
			<damageDef>TM_BurningLight</damageDef>
			<damageAmountBase>7</damageAmountBase>
			<speed>60</speed>
	   </projectile>
	</ThingDef>
	
	<ThingDef ParentName="BaseBullet">
		<defName>Projectile_LightLaser</defName>
		<label>lanceta leve</label>
		<graphicData>
		  <texPath>Spells/light_laser</texPath>
		  <graphicClass>Graphic_Single</graphicClass>
		  <drawSize>(.6,.6)</drawSize>
		</graphicData>
		<projectile>
		  <damageDef>TM_BurningLight</damageDef>
		  <damageAmountBase>6</damageAmountBase>
		  <armorPenetrationBase>0</armorPenetrationBase>
		  <speed>66</speed>
		</projectile>
    </ThingDef>
	
    <TorannMagic.TMAbilityDef ParentName="BaseMagicAbility">
        <defName>TM_SpiritOfLight</defName>
        <label>Espírito de luz</label>
        <uiIconPath>UI/sol</uiIconPath>
        <description>Evoca um Espírito de Luz que ajuda e protege o lançador. Esta habilidade requer 60 mana para sustentar e reduz a regeneração de mana em 75%. Use esta habilidade novamente para dispensar o espírito. O SoL é capaz de armazenar energia luminosa e usa energia luminosa para realizar ações.

O Espírito de Luz trabalha de forma autônoma para ajudar o lançador e irá realizar as seguintes ações:
Desvia ataques
Cauteriza feridas de peões caídos
Ataca inimigos (apenas quando recrutado)
Melhorar o humor de aliados próximos
Crie uma explosão de alegria
Protege os sonhos do lançador</description>
        <manaCost>0</manaCost>
		<upkeepEnergyCost>.6</upkeepEnergyCost>
		<upkeepRegenCost>.75</upkeepRegenCost>
		<upkeepEfficiencyPercent>.02</upkeepEfficiencyPercent>
		<learnChance>.05</learnChance>
		<canCopy>false</canCopy>
		<learnItem>SpellOf_SpiritOfLight</learnItem>
		<MainVerb Class="AbilityUser.VerbProperties_Ability">
            <verbClass>TorannMagic.Effect_SpiritOfLight</verbClass>
				<tooltipShowProjectileDamage>true</tooltipShowProjectileDamage>
				<tooltipShowExtraDamages>false</tooltipShowExtraDamages>
				<tooltipShowHediffsToApply>false</tooltipShowHediffsToApply>
				<tooltipShowMentalStatesToApply>false</tooltipShowMentalStatesToApply>
            <hasStandardCommand>true</hasStandardCommand>
            <defaultProjectile>Projectile_SpiritOfLight</defaultProjectile>
            <abilityDef>TM_SpiritOfLight</abilityDef>
            <warmupTime>5</warmupTime>
            <SecondsToRecharge>30</SecondsToRecharge>
            <range>0</range>
            <burstShotCount>1</burstShotCount>
            <soundCast>TM_Vibration</soundCast>
			<soundCastTail>TM_VibrationLow</soundCastTail>
            <muzzleFlashScale>2</muzzleFlashScale>
		    <AlwaysHits>true</AlwaysHits>
            <isPrimary>true</isPrimary>
			<isViolent>false</isViolent>
			<AbilityTargetCategory>TargetSelf</AbilityTargetCategory>
			<targetParams>
			  <canTargetPawns>true</canTargetPawns>
			  <canTargetBuildings>false</canTargetBuildings>
			  <canTargetSelf>true</canTargetSelf>
			  <canTargetLocations>false</canTargetLocations>
			</targetParams>
        </MainVerb>
    </TorannMagic.TMAbilityDef>
	
    <!-- Create Light -->
	<ThingDef ParentName="BaseBullet" Class="AbilityUser.ProjectileDef_Ability">
		<thingClass>AbilityUser.Projectile_AbilityBase</thingClass>
	    <defName>Projectile_CreateLight</defName>
        <label>criar luz</label>
        <graphicData>
			<texPath>Spells/invis</texPath>
			<graphicClass>Graphic_Single</graphicClass>
        </graphicData>
        <projectile>
			<flyOverhead>true</flyOverhead>
            <damageDef>TM_Shadow</damageDef>
            <damageAmountBase>0</damageAmountBase>
			<explosionRadius>9</explosionRadius>
			<postExplosionSpawnChance>1</postExplosionSpawnChance>
            <speed>999</speed>
        </projectile>
    </ThingDef>
	
	<TorannMagic.TMAbilityDef ParentName="BaseMagicAbility">
        <defName>TM_SoL_CreateLight</defName>
        <label>Criar luz</label>
        <uiIconPath>UI/createlight</uiIconPath>
        <description>Direciona o Espírito de Luz para criar luz em uma área. Isso reduz a regeneração de luz do Espírito em 70%. Use esta habilidade novamente em qualquer local para dispensar a luz.</description>
		<manaCost>0.0</manaCost>
		<learnChance>0</learnChance>
		<shouldInitialize>false</shouldInitialize>
		<MainVerb Class="AbilityUser.VerbProperties_Ability">
            <verbClass>TorannMagic.Verb_SoL_CreateLight</verbClass>
				<tooltipShowProjectileDamage>true</tooltipShowProjectileDamage>
				<tooltipShowExtraDamages>false</tooltipShowExtraDamages>
				<tooltipShowHediffsToApply>false</tooltipShowHediffsToApply>
				<tooltipShowMentalStatesToApply>false</tooltipShowMentalStatesToApply>
            <hasStandardCommand>true</hasStandardCommand>
			<requiresLineOfSight>false</requiresLineOfSight>
            <defaultProjectile>Projectile_Default</defaultProjectile>
            <abilityDef>TM_SoL_CreateLight</abilityDef>
            <warmupTime>.5</warmupTime>
            <SecondsToRecharge>30</SecondsToRecharge>
            <range>150</range>
            <burstShotCount>1</burstShotCount>
            <soundCast>TM_Vibration</soundCast>
			<soundCastTail>TM_VibrationLow</soundCastTail>
            <muzzleFlashScale>10</muzzleFlashScale>
		    <AlwaysHits>true</AlwaysHits>
            <isPrimary>true</isPrimary>
			<isViolent>false</isViolent>
			<AbilityTargetCategory>TargetAoE</AbilityTargetCategory>
            <TargetAoEProperties>
                <targetClass>Pawn</targetClass>
                <showRangeOnSelect>true</showRangeOnSelect>
                <friendlyFire>true</friendlyFire>
                <startsFromCaster>false</startsFromCaster>
                <maxTargets>5</maxTargets>
                <range>9</range>
            </TargetAoEProperties>
			<targetParams>
				<canTargetItems>true</canTargetItems>
                <canTargetPawns>true</canTargetPawns>
                <canTargetBuildings>true</canTargetBuildings>
                <canTargetSelf>true</canTargetSelf>
                <canTargetLocations>true</canTargetLocations>
            </targetParams>
        </MainVerb>
    </TorannMagic.TMAbilityDef>
	
	<!-- Equalize -->
	
	<TorannMagic.TMAbilityDef ParentName="BaseMagicAbility">
        <defName>TM_SoL_Equalize</defName>
        <label>Igualar</label>
        <uiIconPath>UI/equalize</uiIconPath>
        <description>Equaliza a energia da luz entre o Espírito de Luz e o lançador.</description>
		<manaCost>0.0</manaCost>
		<learnChance>0</learnChance>
		<shouldInitialize>false</shouldInitialize>
		<MainVerb Class="AbilityUser.VerbProperties_Ability">
            <verbClass>TorannMagic.Verb_SoL_Equalize</verbClass>
				<tooltipShowProjectileDamage>true</tooltipShowProjectileDamage>
				<tooltipShowExtraDamages>false</tooltipShowExtraDamages>
				<tooltipShowHediffsToApply>false</tooltipShowHediffsToApply>
				<tooltipShowMentalStatesToApply>false</tooltipShowMentalStatesToApply>
            <hasStandardCommand>true</hasStandardCommand>
			<requiresLineOfSight>false</requiresLineOfSight>
            <defaultProjectile>Projectile_Default</defaultProjectile>
            <abilityDef>TM_SoL_Equalize</abilityDef>
            <warmupTime>1</warmupTime>
            <SecondsToRecharge>120</SecondsToRecharge>
            <range>0</range>
            <burstShotCount>1</burstShotCount>
            <soundCast>TM_Vibration</soundCast>
			<soundCastTail>TM_VibrationLow</soundCastTail>
            <muzzleFlashScale>10</muzzleFlashScale>
		    <AlwaysHits>true</AlwaysHits>
            <isPrimary>true</isPrimary>
			<isViolent>false</isViolent>
			<AbilityTargetCategory>TargetSelf</AbilityTargetCategory>
			<targetParams>
			  <canTargetPawns>true</canTargetPawns>
			  <canTargetBuildings>false</canTargetBuildings>
			  <canTargetSelf>true</canTargetSelf>
			  <canTargetLocations>false</canTargetLocations>
			</targetParams>
        </MainVerb>
    </TorannMagic.TMAbilityDef>
	
</Defs>
