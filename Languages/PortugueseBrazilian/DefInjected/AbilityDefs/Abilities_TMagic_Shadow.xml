<?xml version="1.0" encoding="utf-8" ?>

<Defs>

	    <!-- Shadow Walk -->

	<TorannMagic.TMAbilityDef ParentName="BaseMagicAbility">
        <defName>TM_ShadowWalk</defName>
        <label>Shadow Walk</label>
        <uiIconPath>UI/shadowwalk</uiIconPath>
        <description>Mova-se invisível para reaparecer instantaneamente na sombra de outro peão.</description>
        <manaCost>0.25</manaCost>
		<efficiencyReductionPercent>.08</efficiencyReductionPercent>
		<canCopy>true</canCopy>
		<learnChance>.6</learnChance>
		<MainVerb Class="AbilityUser.VerbProperties_Ability">
            <verbClass>TorannMagic.Verb_ShadowWalk</verbClass>
            <hasStandardCommand>true</hasStandardCommand>
            <defaultProjectile>Projectile_Default</defaultProjectile>
            <abilityDef>TM_ShadowWalk</abilityDef>
            <!-- <AbilityTargetCategory>TargetLocation</AbilityTargetCategory> -->
            <targetParams>
                <canTargetItems>false</canTargetItems>
				<canTargetPawns>true</canTargetPawns>
				<canTargetLocations>false</canTargetLocations>
				<canTargetSelf>false</canTargetSelf>
            </targetParams>
            <warmupTime>1</warmupTime>
            <SecondsToRecharge>45.0</SecondsToRecharge>
            <range>300</range>
			<isViolent>false</isViolent>
			<requiresLineOfSight>false</requiresLineOfSight>
			<stopBurstWithoutLos>false</stopBurstWithoutLos>
            <burstShotCount>1</burstShotCount>
            <ticksBetweenBurstShots>1</ticksBetweenBurstShots>
            <soundCast>TM_VibrationLow</soundCast>
            <muzzleFlashScale>0</muzzleFlashScale>
            <isPrimary>false</isPrimary>
        </MainVerb>
    </TorannMagic.TMAbilityDef>
	
    <!-- Shadow Walk End-->
	
	<!-- Shadow Strike -->
	<ThingDef ParentName="BaseBullet" Class="AbilityUser.ProjectileDef_Ability">
        <thingClass>TorannMagic.Projectile_ShadowStrike</thingClass>
		<defName>Projectile_ShadowStrike</defName>
        <label>Golpe de sombra</label>
        <graphicData>
			<texPath>Spells/invis</texPath>
			<graphicClass>Graphic_Single</graphicClass>
			<shaderType>TransparentPostLight</shaderType>
        </graphicData>
        <projectile>
            <flyOverhead>true</flyOverhead>
            <damageDef>Bullet</damageDef>
            <damageAmountBase>0</damageAmountBase>
            <speed>999</speed>
        </projectile>
    </ThingDef>

	<TorannMagic.TMAbilityDef ParentName="BaseMightAbility">
        <defName>TM_ShadowStrike</defName>
        <label>Shadow Strike</label>
        <uiIconPath>UI/shadowstrike</uiIconPath>
        <description>Move instantaneamente o atacante para trás do alvo e desfere um ataque único e devastador. O atacante ganha 5s de aceleração. O invasor retornará ao local em que iniciou o ataque após 5 segundos. Este ataque pode realizar acertos críticos para 3x de dano - a chance diminui à medida que a arma fica mais pesada. Armas de longo alcance nunca fornecerão acertos críticos.</description>
        <staminaCost>0.65</staminaCost>
		<efficiencyReductionPercent>.06</efficiencyReductionPercent>
		<weaponDamageFactor>.65</weaponDamageFactor>
		<canCopy>true</canCopy>
		<MainVerb Class="AbilityUser.VerbProperties_Ability">
            <verbClass>TorannMagic.Verb_BLOS</verbClass>
            <hasStandardCommand>true</hasStandardCommand>
            <defaultProjectile>Projectile_ShadowStrike</defaultProjectile>
            <abilityDef>TM_ShadowStrike</abilityDef>
			<AbilityTargetCategory>TargetThing</AbilityTargetCategory>
            <targetParams>
                <canTargetItems>false</canTargetItems>
				<canTargetPawns>true</canTargetPawns>
				<canTargetLocations>false</canTargetLocations>
				<canTargetSelf>false</canTargetSelf>
            </targetParams>
            <warmupTime>1.6</warmupTime>
            <SecondsToRecharge>60.0</SecondsToRecharge>
            <range>35</range>
			<isViolent>true</isViolent>
            <burstShotCount>1</burstShotCount>
            <ticksBetweenBurstShots>1</ticksBetweenBurstShots>
            <soundCast>TM_VibrationLow</soundCast>
            <muzzleFlashScale>20</muzzleFlashScale>
            <isPrimary>false</isPrimary>
        </MainVerb>
    </TorannMagic.TMAbilityDef>
	
	<!-- Nightshade -->

	<TorannMagic.TMAbilityDef ParentName="BaseMightAbility">
        <defName>TM_Nightshade</defName>
        <label>Nightshade</label>
        <uiIconPath>UI/nightshade</uiIconPath>
        <description>Cubra suas armas ou projéteis com toxina de beladona. Cada ataque aplicará uma parte da toxina beladona. Ataques à distância aplicam a toxina 40% tão eficientemente quanto os ataques corpo a corpo. As vítimas afetadas sofrem de alucinações e falta de ar e sofrerão danos aos órgãos se os níveis de toxicidade se tornarem graves.

Esta habilidade requer 30 resistência para manter e reduz a regeneração da resistência em 50%.</description>
        <staminaCost>0.0</staminaCost>
		<upkeepEnergyCost>.3</upkeepEnergyCost>
		<upkeepRegenCost>.5</upkeepRegenCost>
		<upkeepEfficiencyPercent>.06</upkeepEfficiencyPercent>
		<abilityHediff>TM_NightshadeHD</abilityHediff>
		<canCopy>true</canCopy>
		<MainVerb Class="AbilityUser.VerbProperties_Ability">
            <verbClass>TorannMagic.Verb_ToggleHediff</verbClass>
            <hasStandardCommand>true</hasStandardCommand>
            <defaultProjectile>Projectile_Default</defaultProjectile>
            <abilityDef>TM_Nightshade</abilityDef>
            <AbilityTargetCategory>TargetSelf</AbilityTargetCategory>
            <targetParams>
                <canTargetItems>false</canTargetItems>
				<canTargetPawns>true</canTargetPawns>
				<canTargetLocations>false</canTargetLocations>
				<canTargetSelf>true</canTargetSelf>
            </targetParams>
            <warmupTime>0</warmupTime>
            <SecondsToRecharge>2.0</SecondsToRecharge>
            <range>0</range>
			<isViolent>true</isViolent>
			<requiresLineOfSight>false</requiresLineOfSight>
			<stopBurstWithoutLos>false</stopBurstWithoutLos>
            <burstShotCount>1</burstShotCount>
            <ticksBetweenBurstShots>1</ticksBetweenBurstShots>
            <muzzleFlashScale>0</muzzleFlashScale>
			<soundCast>TM_VibrationLow</soundCast>
            <isPrimary>true</isPrimary>
        </MainVerb>
    </TorannMagic.TMAbilityDef>
	
	<!-- Veil of Shadows -->

	<TorannMagic.TMAbilityDef ParentName="BaseMightAbility">
        <defName>TM_VeilOfShadows</defName>
        <label>Véu das Sombras</label>
        <uiIconPath>UI/veilofshadows</uiIconPath>
        <description>Jogue uma mistura que cubra o lançador e a área circundante de fumaça e sombras. O lançador ganha Cloak of Shadows (invisibilidade). A nuvem de sombra impedirá o direcionamento do sistema automatizado e reduz a precisão dos ataques à distância em 60%.</description>
        <staminaCost>0.40</staminaCost>
		<efficiencyReductionPercent>.06</efficiencyReductionPercent>
		<canCopy>true</canCopy>
		<MainVerb Class="AbilityUser.VerbProperties_Ability">
            <verbClass>TorannMagic.Verb_VeilOfShadows</verbClass>
            <hasStandardCommand>true</hasStandardCommand>
            <defaultProjectile>Projectile_Default</defaultProjectile>
            <abilityDef>TM_VeilOfShadows</abilityDef>
            <AbilityTargetCategory>TargetSelf</AbilityTargetCategory>
            <targetParams>
                <canTargetItems>false</canTargetItems>
				<canTargetPawns>true</canTargetPawns>
				<canTargetLocations>false</canTargetLocations>
				<canTargetSelf>true</canTargetSelf>
            </targetParams>
            <warmupTime>.5</warmupTime>
            <SecondsToRecharge>90.0</SecondsToRecharge>
            <range>0</range>
			<isViolent>false</isViolent>
			<requiresLineOfSight>false</requiresLineOfSight>
			<stopBurstWithoutLos>false</stopBurstWithoutLos>
            <burstShotCount>1</burstShotCount>
            <ticksBetweenBurstShots>1</ticksBetweenBurstShots>
            <soundCast>TM_SoftExplosion</soundCast>
            <muzzleFlashScale>0</muzzleFlashScale>
            <isPrimary>true</isPrimary>
        </MainVerb>
    </TorannMagic.TMAbilityDef>

</Defs>
