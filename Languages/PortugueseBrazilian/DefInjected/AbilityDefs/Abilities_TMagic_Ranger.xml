<?xml version="1.0" encoding="utf-8" ?>

<Defs>

  <ThingDef ParentName="BaseBullet" Class="AbilityUser.ProjectileDef_Ability">
   <defName>Projectile_Ranger</defName>
   <thingClass>AbilityUser.Projectile_Ability</thingClass>
   <label>projétil ranger padrão</label>
   <graphicData>
		<texPath>Spells/invis</texPath>
		<graphicClass>Graphic_Single</graphicClass>
   </graphicData>
   <projectile>
		<flyOverhead>true</flyOverhead>
		<damageDef>TM_Heal_I</damageDef>
		<damageAmountBase>0</damageAmountBase>
		<speed>100</speed>
   </projectile>
 </ThingDef>
 
 <!-- Ranger training -->

 
 <TorannMagic.TMAbilityDef ParentName="BaseMightAbility">
    <defName>TM_RangerTraining</defName>
    <label>Ranger Training</label>
    <uiIconPath>UI/rangertraining</uiIconPath>
    <description>Treinamento que as habilidades profissionais do ranger. Cada nível aumentará a característica do ranger para refletir a habilidade do ranger.

Ranks:
Lenhador: Velocidade + 0,15 c / s, Atraso de mira -15%, Ganho de imunidade + 20%, Comf. Temperatura + -10C., Sensibilidade Tóxica -10%
Domesticar e treinar animais + 5%, velocidade de abate + 5%, velocidade de fundição e construção -10%

Caçador: Velocidade + 0,2 c / s, Atraso de mira -20%, Ganho de imunidade + 25%, Comf. Temperatura + -15C., Sensibilidade Tóxica -15%
Domesticar e treinar animais + 8%, velocidade de abate + 10%, velocidade de fundição e construção -15%

Batedor: Velocidade + 0,25c / s, Atraso de mira -30%, Ganho de imunidade + 30%, Comf. Temperatura + -18C., Sensibilidade Tóxica -20%
Domesticar e treinar animais + 10%, velocidade de abate + 15%, velocidade de fundição e construção -18%

Ranger: Velocidade + 0,3c / s, Atraso de mira -40%, Ganho de imunidade + 35%, Comf. Temperatura + -25C., Sensibilidade Tóxica -25%
Domesticar e treinar animais + 12%, velocidade de abate + 20%, velocidade de fundição e construção -20%</description>
    <staminaCost>0.01</staminaCost>
	<shouldInitialize>false</shouldInitialize>
    <MainVerb Class="AbilityUser.VerbProperties_Ability">
        <verbClass>TorannMagic.Verb_RangerTraining</verbClass>
			<tooltipShowProjectileDamage>false</tooltipShowProjectileDamage>
			<tooltipShowExtraDamages>false</tooltipShowExtraDamages>
			<tooltipShowHediffsToApply>false</tooltipShowHediffsToApply>
			<tooltipShowMentalStatesToApply>false</tooltipShowMentalStatesToApply>
        <hasStandardCommand>true</hasStandardCommand>
		<abilityDef>TM_RangerTraining</abilityDef>
		<isViolent>false</isViolent>
        <defaultProjectile>Projectile_Ranger</defaultProjectile>
        <warmupTime>0.1</warmupTime>
        <SecondsToRecharge>60.0</SecondsToRecharge>
        <range>0</range>
        <soundCast>Message_PositiveEvent</soundCast>
        <muzzleFlashScale>10</muzzleFlashScale>
        <isPrimary>false</isPrimary>
   	    <AbilityTargetCategory>TargetSelf</AbilityTargetCategory>
		<targetParams>
		  <canTargetPawns>true</canTargetPawns>
		  <canTargetBuildings>false</canTargetBuildings>
		  <canTargetSelf>true</canTargetSelf>
		  <canTargetLocations>false</canTargetLocations>
		</targetParams>
    </MainVerb>
  </TorannMagic.TMAbilityDef>
   
     <!-- Bow Training -->
  
 
 <TorannMagic.TMAbilityDef ParentName="BaseMightAbility">
    <defName>TM_BowTraining</defName>
    <label>Treinamento de arco</label>
    <uiIconPath>UI/bowtraining</uiIconPath>
    <description>Treinamento que aumenta o dano e a precisão ao usar um arco.

Nível 0: Audição e Visão + 20%, + 20% de dano de arco
Nível 1: Audição e Visão + 40%, + 40% de dano do arco
Nível 2: Audição e Visão + 60%, Respiração + 15%, + 60% de dano do arco
Nível 3: Audição e Visão + 80%, Respiração + 25%, Filtração de sangue + 10%, + 80% de dano de arco</description>
    <staminaCost>0.01</staminaCost>
	<shouldInitialize>false</shouldInitialize>
    <MainVerb Class="AbilityUser.VerbProperties_Ability">
        <verbClass>TorannMagic.Verb_BowTraining</verbClass>
			<tooltipShowProjectileDamage>false</tooltipShowProjectileDamage>
			<tooltipShowExtraDamages>false</tooltipShowExtraDamages>
			<tooltipShowHediffsToApply>false</tooltipShowHediffsToApply>
			<tooltipShowMentalStatesToApply>false</tooltipShowMentalStatesToApply>
        <hasStandardCommand>true</hasStandardCommand>
		<abilityDef>TM_BowTraining</abilityDef>
		<isViolent>false</isViolent>
        <defaultProjectile>Projectile_Ranger</defaultProjectile>
        <warmupTime>0.1</warmupTime>
        <SecondsToRecharge>60</SecondsToRecharge>
        <range>0</range>
        <soundCast>Message_PositiveEvent</soundCast>
        <muzzleFlashScale>20</muzzleFlashScale>
        <isPrimary>false</isPrimary>
   	    <AbilityTargetCategory>TargetSelf</AbilityTargetCategory>
		<targetParams>
		  <canTargetPawns>true</canTargetPawns>
		  <canTargetBuildings>false</canTargetBuildings>
		  <canTargetSelf>true</canTargetSelf>
		  <canTargetLocations>false</canTargetLocations>
		</targetParams>
    </MainVerb>
  </TorannMagic.TMAbilityDef>

  
  <!-- Poison Trap -->

	<TorannMagic.TMAbilityDef ParentName="BaseMightAbility">
        <defName>TM_PoisonTrap</defName>
        <label>Poison Trap</label>
        <uiIconPath>UI/trap</uiIconPath>
        <description>O ranger usa uma dose de veneno druídico para armar uma armadilha de madeira. As armadilhas duram indefinidamente, mas um ranger só é capaz de lançar um número limitado de cada vez.

Os inimigos pegos no veneno receberão 1-8 de dano de veneno a cada 0,66 segundos. Dano de veneno também aplica um efeito de desaceleração. As armadilhas nunca serão acionadas por animais.</description>
        <staminaCost>0.20</staminaCost>
		<canCopy>true</canCopy>
		<MainVerb Class="AbilityUser.VerbProperties_Ability">
            <verbClass>TorannMagic.Verb_PoisonTrap</verbClass>
            <hasStandardCommand>true</hasStandardCommand>
            <defaultProjectile>Projectile_Ranger</defaultProjectile>
            <abilityDef>TM_PoisonTrap</abilityDef>
            <AbilityTargetCategory>TargetLocation</AbilityTargetCategory>
            <targetParams>
                <canTargetItems>false</canTargetItems>
				<canTargetPawns>false</canTargetPawns>
				<canTargetLocations>true</canTargetLocations>
				<canTargetSelf>false</canTargetSelf>
            </targetParams>
            <warmupTime>0.0</warmupTime>
            <SecondsToRecharge>3.0</SecondsToRecharge>
            <range>50</range>
			<isViolent>true</isViolent>
            <burstShotCount>1</burstShotCount>
            <ticksBetweenBurstShots>1</ticksBetweenBurstShots>
            <soundCast>MeleeHit_Metal_Sharp</soundCast>
            <muzzleFlashScale>20</muzzleFlashScale>
            <isPrimary>false</isPrimary>
        </MainVerb>
    </TorannMagic.TMAbilityDef>
	
	<!-- Animal Friend -->

	<TorannMagic.TMAbilityDef ParentName="BaseMightAbility">
        <defName>TM_AnimalFriend</defName>
        <label>Animal Bond</label>
        <uiIconPath>UI/animalfriend</uiIconPath>
        <description>Em casa na natureza, o ranger é capaz de formar um vínculo com criaturas selvagens.

Rangers só são capazes de formar um único vínculo e manter o vínculo reduz a resistência máxima do ranger em 30; fazer um novo vínculo rompe um vínculo existente e fará com que o animal com o vínculo rompido saia para sempre. Tentativas malsucedidas podem fazer com que o animal vire um caçador de homens. Ao usar vínculo animal, o animal vinculado pode permitir que o animal permaneça na colônia - a chance de o animal permanecer é baseada em sua natureza selvagem e por quanto tempo ele teve um vínculo com o ranger.

O aumento na capacidade física aplica-se apenas aos parentes animais, em troca, o animal vinculado ajudará o ranger em qualquer capacidade que o animal seja capaz.
Um vínculo pode ser removido usando esta habilidade em uma criatura vinculada.</description>
        <staminaCost>0.60</staminaCost>
		<efficiencyReductionPercent>.15</efficiencyReductionPercent>
		<upkeepEnergyCost>.3</upkeepEnergyCost>
		<upkeepEfficiencyPercent>.15</upkeepEfficiencyPercent>
		<MainVerb Class="AbilityUser.VerbProperties_Ability">
            <verbClass>TorannMagic.Verb_AnimalFriend</verbClass>
            <hasStandardCommand>true</hasStandardCommand>
            <defaultProjectile>Projectile_Ranger</defaultProjectile>
            <abilityDef>TM_AnimalFriend</abilityDef>
            <AbilityTargetCategory>TargetThing</AbilityTargetCategory>
            <targetParams>
                <canTargetItems>false</canTargetItems>
				<canTargetPawns>true</canTargetPawns>
				<canTargetLocations>false</canTargetLocations>
				<canTargetSelf>false</canTargetSelf>
            </targetParams>
            <warmupTime>4</warmupTime>
            <SecondsToRecharge>60.0</SecondsToRecharge>
            <range>10</range>
			<isViolent>false</isViolent>
            <burstShotCount>1</burstShotCount>
            <ticksBetweenBurstShots>1</ticksBetweenBurstShots>
            <soundCast>MeleeHit_Metal_Sharp</soundCast>
            <muzzleFlashScale>20</muzzleFlashScale>
            <isPrimary>false</isPrimary>
        </MainVerb>
    </TorannMagic.TMAbilityDef>
	
	<!-- Arrow storm -->
    <ThingDef ParentName="BaseBullet" Class="AbilityUser.ProjectileDef_Ability">
        <thingClass>TorannMagic.Projectile_ArrowStorm</thingClass>
		<defName>Projectile_ArrowStorm</defName>
        <label>tempestade de flechas</label>
        <graphicData>
			<texPath>Things/Projectile/Arrow_Small</texPath>
			<graphicClass>Graphic_Single</graphicClass>
			<shaderType>TransparentPostLight</shaderType>
        </graphicData>
        <projectile>
            <flyOverhead>false</flyOverhead>
            <damageDef>Arrow</damageDef>
            <damageAmountBase>12</damageAmountBase>
            <speed>40</speed>
        </projectile>
    </ThingDef>

	<TorannMagic.TMAbilityDef ParentName="BaseMightAbility">
        <defName>TM_ArrowStorm</defName>
        <label>Arrow Storm</label>
        <uiIconPath>UI/arrowstorm</uiIconPath>
        <description>Dispare uma salva de 5 flechas em um alvo.
Alcance: 32</description>
        <staminaCost>0.40</staminaCost>
		<efficiencyReductionPercent>.08</efficiencyReductionPercent>
		<weaponDamageFactor>.6</weaponDamageFactor>
		<canCopy>true</canCopy>
		<MainVerb Class="AbilityUser.VerbProperties_Ability">
            <verbClass>TorannMagic.Verb_RangerShot</verbClass>
            <hasStandardCommand>true</hasStandardCommand>
            <defaultProjectile>Projectile_ArrowStorm</defaultProjectile>
            <abilityDef>TM_ArrowStorm</abilityDef>
			<AbilityTargetCategory>TargetThing</AbilityTargetCategory>
            <targetParams>
                <canTargetItems>false</canTargetItems>
				<canTargetPawns>true</canTargetPawns>
				<canTargetLocations>false</canTargetLocations>
				<canTargetSelf>false</canTargetSelf>
            </targetParams>
            <warmupTime>2</warmupTime>
            <SecondsToRecharge>20.0</SecondsToRecharge>
            <range>32</range>
			<isViolent>true</isViolent>
            <burstShotCount>5</burstShotCount>
            <ticksBetweenBurstShots>15</ticksBetweenBurstShots>
            <soundCast>Bow_Large</soundCast>
            <muzzleFlashScale>20</muzzleFlashScale>
            <isPrimary>true</isPrimary>
        </MainVerb>
    </TorannMagic.TMAbilityDef>
	
	<TorannMagic.TMAbilityDef ParentName="BaseMightAbility">
        <defName>TM_ArrowStorm_I</defName>
        <label>Tempestade de Flechas (I)</label>
        <uiIconPath>UI/arrowstorm</uiIconPath>
        <description>Dispare uma salva de 6 flechas em um alvo.
Alcance: 34</description>
        <staminaCost>0.42</staminaCost>
		<efficiencyReductionPercent>.08</efficiencyReductionPercent>
		<weaponDamageFactor>.6</weaponDamageFactor>
		<shouldInitialize>false</shouldInitialize>
		<MainVerb Class="AbilityUser.VerbProperties_Ability">
            <verbClass>TorannMagic.Verb_RangerShot</verbClass>
            <hasStandardCommand>true</hasStandardCommand>
            <defaultProjectile>Projectile_ArrowStorm</defaultProjectile>
            <abilityDef>TM_ArrowStorm_I</abilityDef>
			<AbilityTargetCategory>TargetThing</AbilityTargetCategory>
            <targetParams>
                <canTargetItems>false</canTargetItems>
				<canTargetPawns>true</canTargetPawns>
				<canTargetLocations>false</canTargetLocations>
				<canTargetSelf>false</canTargetSelf>
            </targetParams>
            <warmupTime>2</warmupTime>
            <SecondsToRecharge>20.0</SecondsToRecharge>
            <range>34</range>
			<isViolent>true</isViolent>
            <burstShotCount>6</burstShotCount>
            <ticksBetweenBurstShots>14</ticksBetweenBurstShots>
            <soundCast>Bow_Large</soundCast>
            <muzzleFlashScale>20</muzzleFlashScale>
            <isPrimary>true</isPrimary>
        </MainVerb>
    </TorannMagic.TMAbilityDef>
	
	<TorannMagic.TMAbilityDef ParentName="BaseMightAbility">
        <defName>TM_ArrowStorm_II</defName>
        <label>Tempestade de Flechas (II)</label>
        <uiIconPath>UI/arrowstorm</uiIconPath>
        <description>Dispara uma rápida salva de 7 flechas em um alvo.
Alcance: 36</description>
        <staminaCost>0.44</staminaCost>
		<efficiencyReductionPercent>.08</efficiencyReductionPercent>
		<shouldInitialize>false</shouldInitialize>
		<weaponDamageFactor>.6</weaponDamageFactor>
		<MainVerb Class="AbilityUser.VerbProperties_Ability">
            <verbClass>TorannMagic.Verb_RangerShot</verbClass>
            <hasStandardCommand>true</hasStandardCommand>
            <defaultProjectile>Projectile_ArrowStorm</defaultProjectile>
            <abilityDef>TM_ArrowStorm_II</abilityDef>
			<AbilityTargetCategory>TargetThing</AbilityTargetCategory>
            <targetParams>
                <canTargetItems>false</canTargetItems>
				<canTargetPawns>true</canTargetPawns>
				<canTargetLocations>false</canTargetLocations>
				<canTargetSelf>false</canTargetSelf>
            </targetParams>
            <warmupTime>2</warmupTime>
            <SecondsToRecharge>20.0</SecondsToRecharge>
            <range>36</range>
			<isViolent>true</isViolent>
            <burstShotCount>7</burstShotCount>
            <ticksBetweenBurstShots>13</ticksBetweenBurstShots>
            <soundCast>Bow_Large</soundCast>
            <muzzleFlashScale>20</muzzleFlashScale>
            <isPrimary>true</isPrimary>
        </MainVerb>
    </TorannMagic.TMAbilityDef>
	
	<TorannMagic.TMAbilityDef ParentName="BaseMightAbility">
        <defName>TM_ArrowStorm_III</defName>
        <label>Tempestade de Flechas (III)</label>
        <uiIconPath>UI/arrowstorm</uiIconPath>
        <description>Dispara uma rajada rápida de 8 flechas em um alvo.
Alcance: 38</description>
        <staminaCost>0.45</staminaCost>
		<efficiencyReductionPercent>.08</efficiencyReductionPercent>
		<weaponDamageFactor>.6</weaponDamageFactor>
		<shouldInitialize>false</shouldInitialize>
		<MainVerb Class="AbilityUser.VerbProperties_Ability">
            <verbClass>TorannMagic.Verb_RangerShot</verbClass>
            <hasStandardCommand>true</hasStandardCommand>
            <defaultProjectile>Projectile_ArrowStorm</defaultProjectile>
            <abilityDef>TM_ArrowStorm_III</abilityDef>
			<AbilityTargetCategory>TargetThing</AbilityTargetCategory>
            <targetParams>
                <canTargetItems>false</canTargetItems>
				<canTargetPawns>true</canTargetPawns>
				<canTargetLocations>false</canTargetLocations>
				<canTargetSelf>false</canTargetSelf>
            </targetParams>
            <warmupTime>2</warmupTime>
            <SecondsToRecharge>20.0</SecondsToRecharge>
            <range>38</range>
			<isViolent>true</isViolent>
            <burstShotCount>8</burstShotCount>
            <ticksBetweenBurstShots>12</ticksBetweenBurstShots>
            <soundCast>Bow_Large</soundCast>
            <muzzleFlashScale>20</muzzleFlashScale>
            <isPrimary>true</isPrimary>
        </MainVerb>
    </TorannMagic.TMAbilityDef>
	

</Defs>